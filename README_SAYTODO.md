# ì„¸ì´íˆ¬ë‘ (SayToDo) í”„ë¡œì íŠ¸ ğŸ“

**ì „í™”ë²¨ì²˜ëŸ¼ ìš¸ë¦¬ëŠ” í•  ì¼ ì•Œë¦¼ ì‹œìŠ¤í…œ**

ë†“ì¹˜ì§€ ì•ŠëŠ” ê¸´ê¸‰ ì•Œë¦¼ - ì¼ë°˜ ë©”ì‹œì§€ë‚˜ í‘¸ì‹œ ì•Œë¦¼ì€ ë¬´ì‹œí•˜ê¸° ì‰½ì§€ë§Œ, ì „í™”ëŠ” ë°˜ë“œì‹œ ë°›ê²Œ ë©ë‹ˆë‹¤!

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

ì„¸ì´íˆ¬ë‘ëŠ” ì±„ë„ ê¸°ë°˜ ê¸´ê¸‰ ì•Œë¦¼ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. íŠ¹ì • ì±„ë„ì— ê°€ì…í•œ ì‚¬ëŒë“¤ì—ê²Œ **ì „í™”ì²˜ëŸ¼ ìš¸ë¦¬ëŠ”** ë°©ì‹ìœ¼ë¡œ ì•Œë¦¼ì„ ì „ì†¡í•˜ì—¬, ì¤‘ìš”í•œ ë©”ì‹œì§€ë¥¼ ë†“ì¹˜ì§€ ì•Šë„ë¡ í•©ë‹ˆë‹¤.

### í•µì‹¬ ì•„ì´ë””ì–´
> ì‚¬ëŒë“¤ì€ ë¬¸ìë‚˜ í†¡ì€ ì˜ ì•ˆ ë´ë„ ì „í™”ê°€ ì˜¤ë©´ ë°˜ë“œì‹œ ë¬´ìŒì´ë˜ ì§„ë™ì´ë˜ ë²¨ì†Œë¦¬ ë°©ì‹ì´ë˜ ë¬´ì¡°ê±´ ë°›ìŠµë‹ˆë‹¤!

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1ï¸âƒ£ ì±„ë„ ê¸°ë°˜ ê·¸ë£¹ ê´€ë¦¬
- ì±„ë„ ìƒì„± ë° ê´€ë¦¬
- ì´ë©”ì¼ë¡œ ë©¤ë²„ ì´ˆëŒ€
- ê´€ë¦¬ì/ë©¤ë²„ ê¶Œí•œ ì‹œìŠ¤í…œ

### 2ï¸âƒ£ VoIP ìŠ¤íƒ€ì¼ ê¸´ê¸‰ ì•Œë¦¼
- **ì „í™”ë²¨ì²˜ëŸ¼ ìš¸ë¦¬ëŠ” ì•Œë¦¼** (ë¬´ìŒ/ì§„ë™ ëª¨ë“œ ìš°íšŒ)
- Full-screen intentë¡œ í™”ë©´ ìë™ ì¼œì§
- ìˆ˜ë½/ê±°ì ˆ ë²„íŠ¼
- 1ëŒ€ ë‹¤ìˆ˜ ë™ì‹œ ë°œì†¡

### 3ï¸âƒ£ ë©€í‹°ë¯¸ë””ì–´ ì§€ì›
- ğŸ¤ **ìŒì„± ë©”ì‹œì§€**: ë…¹ìŒ íŒŒì¼ ì—…ë¡œë“œ ë° ì¬ìƒ
- ğŸ¬ **ì§§ì€ ì˜ìƒ**: ì§ì ‘ ì—…ë¡œë“œ (ìµœëŒ€ 50MB)
- ğŸ“º **ê¸´ ì˜ìƒ**: YouTube URL ë§í¬ ê³µìœ 

### 4ï¸âƒ£ ì‹¤ì‹œê°„ ì‘ë‹µ ê´€ë¦¬
- ìˆ˜ë½/ê±°ì ˆ/ë¯¸ì‘ë‹µ íŠ¸ë˜í‚¹
- Socket.io ì‹¤ì‹œê°„ ì‘ë‹µ ì•Œë¦¼
- ì‘ë‹µ í†µê³„ ëŒ€ì‹œë³´ë“œ

## ğŸ— í”„ë¡œì íŠ¸ êµ¬ì¡°

```
saytodo-project/
â”œâ”€â”€ voip-server/              # ë°±ì—”ë“œ ì„œë²„ (Node.js + Express)
â”‚   â”œâ”€â”€ routes/              # API ë¼ìš°íŠ¸
â”‚   â”‚   â”œâ”€â”€ auth.js         # ì¸ì¦
â”‚   â”‚   â”œâ”€â”€ channels.js     # ì±„ë„ ê´€ë¦¬
â”‚   â”‚   â”œâ”€â”€ alerts.js       # ì•Œë¦¼ ë°œì†¡/ì‘ë‹µ
â”‚   â”‚   â””â”€â”€ media.js        # ë¯¸ë””ì–´ ì—…ë¡œë“œ
â”‚   â”œâ”€â”€ database.js         # SQLite DB
â”‚   â”œâ”€â”€ firebase.js         # FCM Push
â”‚   â”œâ”€â”€ index.js           # ì„œë²„ ì—”íŠ¸ë¦¬
â”‚   â””â”€â”€ README.md          # ë°±ì—”ë“œ ë¬¸ì„œ
â”‚
â””â”€â”€ SayToDo/                # React Native ì•ˆë“œë¡œì´ë“œ ì•±
    â”œâ”€â”€ android/            # ì•ˆë“œë¡œì´ë“œ ë„¤ì´í‹°ë¸Œ ì½”ë“œ
    â”‚   â””â”€â”€ app/
    â”‚       â””â”€â”€ src/main/java/com/saytodo/fcm/
    â”‚           â””â”€â”€ FCMService.java  # ì»¤ìŠ¤í…€ FCM ì„œë¹„ìŠ¤
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ services/       # API & FCM ì„œë¹„ìŠ¤
    â”‚   â”œâ”€â”€ screens/        # UI í™”ë©´
    â”‚   â”œâ”€â”€ components/     # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
    â”‚   â””â”€â”€ types/          # TypeScript íƒ€ì…
    â””â”€â”€ README.md           # ì•± ë¬¸ì„œ
```

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ
- **Node.js 20+** + Express
- **SQLite** - ë°ì´í„°ë² ì´ìŠ¤
- **Firebase Admin SDK** - FCM Push ì•Œë¦¼
- **Socket.io** - ì‹¤ì‹œê°„ í†µì‹ 
- **Multer** - íŒŒì¼ ì—…ë¡œë“œ
- **JWT** - ì¸ì¦

### í”„ë¡ íŠ¸ì—”ë“œ (Android ì•±)
- **React Native 0.83.1**
- **TypeScript**
- **Firebase Cloud Messaging** - í‘¸ì‹œ ìˆ˜ì‹ 
- **Socket.io Client** - ì‹¤ì‹œê°„ í†µì‹ 
- **Axios** - HTTP í´ë¼ì´ì–¸íŠ¸
- **React Navigation** - í™”ë©´ ë„¤ë¹„ê²Œì´ì…˜

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰

```bash
cd voip-server
npm install

# Firebase ì„œë¹„ìŠ¤ ê³„ì • í‚¤ ì„¤ì •
# firebase-service-account.json íŒŒì¼ì„ voip-server/ ì— ì¶”ê°€

npm start
```

ì„œë²„ê°€ `http://localhost:3002`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

**í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ì„œë²„:**
```
https://3002-i831dov1p3qmbwxmdvsyx-5634da27.sandbox.novita.ai
```

### 2. Android ì•± ì‹¤í–‰

```bash
cd SayToDo
npm install

# Firebase ì„¤ì •
# android/app/google-services.json íŒŒì¼ ì¶”ê°€

# Android ì•± ì‹¤í–‰
npm run android
```

## ğŸ“± ì‘ë™ ë°©ì‹

### ì•Œë¦¼ ë°œì†¡ íë¦„

```
ê´€ë¦¬ìê°€ ì±„ë„ì— ê¸´ê¸‰ ì•Œë¦¼ ë°œì†¡
         â†“
ë°±ì—”ë“œ ì„œë²„ê°€ FCM High Priority Push ì „ì†¡
         â†“
ëª¨ë“  ì±„ë„ ë©¤ë²„ì˜ ì•±ì—ì„œ FCM ìˆ˜ì‹ 
         â†“
ë„¤ì´í‹°ë¸Œ Full-Screen Intent íŠ¸ë¦¬ê±°
         â†“
ì „í™” ìˆ˜ì‹  í™”ë©´ì²˜ëŸ¼ ì „ì²´ í™”ë©´ í‘œì‹œ
         â†“
ì‚¬ìš©ìê°€ ìˆ˜ë½ ë˜ëŠ” ê±°ì ˆ
         â†“
ì„œë²„ì— ì‘ë‹µ ê¸°ë¡ + ì‹¤ì‹œê°„ Socket.io ì•Œë¦¼
```

### ì•Œë¦¼ ìˆ˜ì‹  ì‹œë‚˜ë¦¬ì˜¤

| ì•± ìƒíƒœ | ë™ì‘ |
|---------|------|
| **í¬ê·¸ë¼ìš´ë“œ** | Alert ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ |
| **ë°±ê·¸ë¼ìš´ë“œ** | Full-screen ì•Œë¦¼ (í™”ë©´ ì¼œì§) + ë²¨ì†Œë¦¬ |
| **ì¢…ë£Œ ìƒíƒœ** | ì•± ìë™ ì‹œì‘ + Full-screen ì•Œë¦¼ |

## ğŸ”§ ì„¤ì • ê°€ì´ë“œ

### Firebase ì„¤ì •

#### ë°±ì—”ë“œ (FCM Push ë°œì†¡)
1. Firebase Console â†’ í”„ë¡œì íŠ¸ ì„¤ì • â†’ ì„œë¹„ìŠ¤ ê³„ì •
2. "ìƒˆ ë¹„ê³µê°œ í‚¤ ìƒì„±" í´ë¦­
3. ë‹¤ìš´ë¡œë“œí•œ JSON íŒŒì¼ì„ `voip-server/firebase-service-account.json`ìœ¼ë¡œ ì €ì¥

#### Android ì•± (FCM ìˆ˜ì‹ )
1. Firebase Console â†’ Android ì•± ì¶”ê°€
2. íŒ¨í‚¤ì§€ ì´ë¦„: `com.saytodo`
3. `google-services.json` ë‹¤ìš´ë¡œë“œ
4. `SayToDo/android/app/google-services.json` ì— ì €ì¥

### API ì„œë²„ URL ë³€ê²½

`SayToDo/src/utils/config.ts`:
```typescript
export const API_CONFIG = {
  BASE_URL: 'YOUR_SERVER_URL',
  // ...
};
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

- **users** - ì‚¬ìš©ì ì •ë³´ (id, email, password, nickname, fcm_token)
- **channels** - ì±„ë„ (id, name, description, creator_id)
- **channel_members** - ì±„ë„ ë©¤ë²„ (id, channel_id, user_id, role)
- **alerts** - ì•Œë¦¼ (id, channel_id, sender_id, title, message, media_type, media_url)
- **alert_responses** - ì•Œë¦¼ ì‘ë‹µ (id, alert_id, user_id, response)
- **media_files** - ë¯¸ë””ì–´ íŒŒì¼ (id, uploader_id, filename, file_type, file_path)

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦
- `POST /api/auth/register` - íšŒì›ê°€ì…
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/fcm-token` - FCM í† í° ë“±ë¡

### ì±„ë„
- `POST /api/channels/create` - ì±„ë„ ìƒì„±
- `GET /api/channels/my-channels` - ë‚´ ì±„ë„ ëª©ë¡
- `GET /api/channels/:id` - ì±„ë„ ìƒì„¸
- `POST /api/channels/:id/add-member` - ë©¤ë²„ ì¶”ê°€

### ì•Œë¦¼
- `POST /api/alerts/send` - ê¸´ê¸‰ ì•Œë¦¼ ë°œì†¡
- `POST /api/alerts/respond` - ì•Œë¦¼ ì‘ë‹µ
- `GET /api/alerts/:id` - ì•Œë¦¼ ìƒì„¸
- `GET /api/alerts/channel/:id/history` - ì±„ë„ ì•Œë¦¼ íˆìŠ¤í† ë¦¬

### ë¯¸ë””ì–´
- `POST /api/media/upload` - ë¯¸ë””ì–´ ì—…ë¡œë“œ
- `GET /api/media/my/uploads` - ë‚´ ì—…ë¡œë“œ ëª©ë¡

ìì„¸í•œ API ë¬¸ì„œ: [voip-server/README.md](voip-server/README.md)

## ğŸ“ ê°œë°œ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥
- [x] ë°±ì—”ë“œ REST API ì„œë²„
- [x] FCM Push ì•Œë¦¼ ì‹œìŠ¤í…œ
- [x] ì±„ë„ ê´€ë¦¬ ì‹œìŠ¤í…œ
- [x] ì•Œë¦¼ ë°œì†¡ ë° ì‘ë‹µ ì²˜ë¦¬
- [x] ë¯¸ë””ì–´ íŒŒì¼ ì—…ë¡œë“œ
- [x] React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [x] FCM í†µí•©
- [x] Full-Screen Intent êµ¬í˜„

### ğŸ”„ ì§„í–‰ ì¤‘
- [ ] ë¡œê·¸ì¸/íšŒì›ê°€ì… UI
- [ ] ì±„ë„ ê´€ë¦¬ UI
- [ ] ì•Œë¦¼ ë°œì†¡ UI
- [ ] ë¯¸ë””ì–´ ì¬ìƒ ì‹œìŠ¤í…œ

## ğŸ¨ UI/UX ë””ìì¸ (ì˜ˆì •)

- ì „í™” ìˆ˜ì‹  ìŠ¤íƒ€ì¼ì˜ ì•Œë¦¼ UI
- ì§ê´€ì ì¸ ì±„ë„ ê´€ë¦¬ ì¸í„°í˜ì´ìŠ¤
- ì‹¤ì‹œê°„ ì‘ë‹µ í†µê³„ ëŒ€ì‹œë³´ë“œ
- ë¯¸ë””ì–´ ì¬ìƒ ì»¨íŠ¸ë¡¤

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- JWT í† í° ì¸ì¦
- bcrypt ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™”
- Firebase Admin SDK ì„œë²„ ì‚¬ì´ë“œ ê²€ì¦
- HTTPS í†µì‹  (í”„ë¡œë•ì…˜)
- íŒŒì¼ í¬ê¸° ì œí•œ (50MB)

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ‘¥ ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ì…ë‹ˆë‹¤. ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤!

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ì— ëŒ€í•œ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ ì´ìŠˆë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”.

---

**ì„¸ì´íˆ¬ë‘ - ì ˆëŒ€ ë†“ì¹˜ì§€ ì•ŠëŠ” ì•Œë¦¼ ì‹œìŠ¤í…œ** ğŸ””
